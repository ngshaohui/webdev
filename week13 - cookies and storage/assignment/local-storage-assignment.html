<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Road Not Taken</title>
    <style>
      body {
        font-family: Arial;
        transition: background-color 0.4s, color 0.5s;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        text-align: center;
      }
      .dark-mode {
        background-color: #333;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <section class="container">
      <label>Toggle Dark Mode</label>
      <input type="checkbox" id="dark-mode-toggle" />
      <h1>"The Road Not Taken" by Robert Frost</h1>
      <section>
        <p>Two roads diverged in a yellow wood,</p>
        <p>And sorry I could not travel both</p>
        <p>And be one traveler, long I stood</p>
        <p>And looked down one as far as I could</p>
        <p>To where it bent in the undergrowth;</p>
        <br />
        <p>Then took the other, as just as fair,</p>
        <p>And having perhaps the better claim,</p>
        <p>Because it was grassy and wanted wear;</p>
        <p>Though as for that the passing there</p>
        <p>Had worn them really about the same,</p>
        <br />

        <p>And both that morning equally lay</p>
        <p>In leaves no step had trodden black.</p>
        <p>Oh, I kept the first for another day!</p>
        <p>Yet knowing how way leads on to way,</p>
        <p>I doubted if I should ever come back.</p>
        <br />

        <p>I shall be telling this with a sigh</p>
        <p>Somewhere ages and ages hence:</p>
        <p>Two roads diverged in a wood, and Iâ€”</p>
        <p>I took the one less traveled by,</p>
        <p>And that has made all the difference.</p>
      </section>
    </section>
    <script>
      const DEFAULT_SETTINGS = { darkMode: false };
      const DEFAULT_SETTINGS_KEY = "settings";
      let currentSettings = DEFAULT_SETTINGS;

      const darkModeCheckbox = document.querySelector("#dark-mode-toggle");

      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        currentSettings.darkMode = darkModeCheckbox.checked;
        saveSettings();
      }

      function saveSettings() {
        localStorage.setItem(
          DEFAULT_SETTINGS_KEY,
          JSON.stringify(currentSettings)
        );
      }

      function loadSettings() {
        const settingsStr = localStorage.getItem(DEFAULT_SETTINGS_KEY);

        if (settingsStr === null) {
          localStorage.setItem(
            DEFAULT_SETTINGS_KEY,
            JSON.stringify(DEFAULT_SETTINGS)
          );
        } else {
          const savedSettings = JSON.parse(settingsStr);
          darkModeCheckbox.checked = savedSettings.darkMode;
          if (savedSettings.darkMode) {
            document.body.classList.add("dark-mode");
          }
          currentSettings = savedSettings;
        }
      }

      function init() {
        darkModeCheckbox.addEventListener("change", toggleDarkMode);
        loadSettings();
      }

      init();
    </script>
  </body>
</html>
